<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="BOOK_INFO">
	<typeAlias alias="BookInfoDO"
		type="com.alibaba.intl.bcds.goldroom.dataobject.BookInfoDO" />
	<resultMap class="BookInfoDO" id="BookInfoResult">
		<result property="id" column="ID" jdbcType="DECIMAL" />
		<result property="author" column="AUTHOR" jdbcType="VARCHAR" />
		<result property="name" column="NAME" jdbcType="VARCHAR" />
		<result property="publisher" column="PUBLISHER" jdbcType="VARCHAR" />
		<result property="publishTime" column="PUBLISH_TIME" jdbcType="DATE" />
		<result property="isbn" column="ISBN" jdbcType="VARCHAR" />
		<result property="categoryName" column="CATEGORY_NAME"
			jdbcType="VARCHAR" />
		<result property="categoryId" column="CATEGORY_ID" jdbcType="DECIMAL" />
		<result property="imgUrl" column="IMG_URL" jdbcType="VARCHAR" />
		<result property="description" column="DESCRIPTION" jdbcType="VARCHAR" />
		<result property="gmtCreate" column="GMT_CREATE" jdbcType="DATETIME" />
		<result property="gmtModified" column="GMT_MODIFIED" jdbcType="DATETIME" />
		<result property="edition" column="EDITION" jdbcType="VARCHAR" />
	</resultMap>

	<select id="listAll" resultMap="BookInfoResult">
		SELECT
		ID,AUTHOR,NAME,PUBLISHER,PUBLISH_TIME,ISBN,CATEGORY_NAME,CATEGORY_ID,IMG_URL,DESCRIPTION,GMT_CREATE,GMT_MODIFIED,EDITION
		FROM BOOK_INFO
	</select>

	<insert id="insert" parameterClass="BookInfoDO">
		INSERT INTO BOOK_INFO
		(AUTHOR,NAME,PUBLISHER,PUBLISH_TIME,ISBN,CATEGORY_NAME,CATEGORY_ID,IMG_URL,DESCRIPTION,GMT_CREATE,GMT_MODIFIED,EDITION)
		VALUES(#author:VARCHAR#,#name:VARCHAR#,#publisher:VARCHAR#,#publishTime:DATE#,#isbn:VARCHAR#,#categoryName:VARCHAR#,
		#categoryId:DECIMAL#, #imgUrl:VARCHAR#, #description:VARCHAR#, NOW(),
		NOW(),#edition:VARCHAR#)
	</insert>
	
	<update id="updateById" parameterClass="BookInfoDO">
		UPDATE BOOK_INFO SET
			AUTHOR=#author:VARCHAR#
			NAME=#name:VARCHAR#,
			PUBLISHER=#publisher:VARCHAR#,
			PUBLISH_TIME=#publishTime:DATE#,
			ISBN=#isbn:VARCHAR#,
			CATEGORY_NAME=#categoryName:VARCHAR#,
			CATEGORY_ID=#categoryId:DECIMAL#,
			IMG_URL=#imgUrl:VARCHAR#,
			DESCRIPTION=#description:VARCHAR#,
			GMT_MODIFIED=NOW(),
			EDITION=#edition:VARCHAR#
		WHERE ID=#id:DECIMAL#
	</update>
	
	<delete id="deleteById" parameterClass="java.lang.Integer">
		DELETE FROM BOOK_INFO
    	WHERE ID = #id:DECIMAL#
	</delete>
	
	<select id="findById" parameterClass="java.lang.Integer" resultMap="BookInfoResult">
		SELECT
			ID,AUTHOR,NAME,PUBLISHER,PUBLISH_TIME,ISBN,CATEGORY_NAME,CATEGORY_ID,IMG_URL,DESCRIPTION,GMT_CREATE,GMT_MODIFIED,EDITION
		FROM BOOK_INFO
		WHERE ID=#value#
	</select>
</sqlMap>