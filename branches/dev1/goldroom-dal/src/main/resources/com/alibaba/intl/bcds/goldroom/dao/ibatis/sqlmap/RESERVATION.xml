<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="RESERVATION">

	<typeAlias alias="Reservation"
		type="com.alibaba.intl.bcds.goldroom.dataobject.Reservation" />
	<resultMap id="BaseResultMap" class="Reservation">
		<!--
			WARNING - This element is automatically generated by Apache iBATIS
			ibator, do not modify. This element was generated on Tue Sep 29
			19:05:09 CST 2009.
		-->
		<result column="ID" property="id" jdbcType="INTEGER" />
		<result column="OWNER_ID" property="ownerId" jdbcType="INTEGER" />
		<result column="SUBSCRIBER" property="subscriber"
			jdbcType="VARCHAR" />
		<result column="LEND_TIME" property="lendTime" jdbcType="DATETIME" />
		<result column="RETURN_TIME" property="returnTime" jdbcType="DATETIME" />
		<result column="STATE" property="state" jdbcType="VARCHAR" />
		<result column="BOOK_ITEM_ID" property="bookItemId" jdbcType="INTEGER" />
		<result column="GMT_CREATE" property="gmtCreate" jdbcType="TIMESTAMP" />
		<result column="GMT_MODIFIED" property="gmtModified" jdbcType="TIMESTAMP" />
	</resultMap>

	<sql id="selectReservation">
		select ID, OWNER_ID, SUBSCRIBER, LEND_TIME, RETURN_TIME,
		STATE,
		BOOK_ITEM_ID, GMT_CREATE,
		GMT_MODIFIED
		from RESERVATION
	</sql>


	<select id="selectByPrimaryKey" resultMap="BaseResultMap"
		parameterClass="Reservation">
		<!--
			WARNING - This element is automatically generated by Apache iBATIS
			ibator, do not modify. This element was generated on Tue Sep 29
			19:05:09 CST 2009.
		-->
		select ID, OWNER_ID, SUBSCRIBER, LEND_TIME, RETURN_TIME, STATE,
		BOOK_ITEM_ID, GMT_CREATE,
		GMT_MODIFIED
		from RESERVATION
		where ID =
		#id:INTEGER#
	</select>


	<select id="findByBookItemId" resultMap="BaseResultMap" parameterClass="java.lang.Integer">
		<include refid="selectReservation" />
		where BOOK_ITEM_ID=#value:INTEGER#
	</select>
	<delete id="deleteByPrimaryKey" parameterClass="Reservation">
		<!--
			WARNING - This element is automatically generated by Apache iBATIS
			ibator, do not modify. This element was generated on Tue Sep 29
			19:05:09 CST 2009.
		-->
		delete from RESERVATION
		where ID = #id:INTEGER#
	</delete>

	<insert id="insert" parameterClass="Reservation">
		<!--
			WARNING - This element is automatically generated by Apache iBATIS
			ibator, do not modify. This element was generated on Tue Sep 29
			19:05:09 CST 2009.
		-->
		insert into RESERVATION (ID, OWNER_ID, SUBSCRIBER, LEND_TIME,
		RETURN_TIME, STATE,
		BOOK_ITEM_ID, GMT_CREATE, GMT_MODIFIED)
		values
		(#id:INTEGER#, #ownerId:INTEGER#, #subscriber:VARCHAR#,
		#lendTime:DATETIME#,
		#returnTime:DATETIME#, #state:VARCHAR#,
		#bookItemId:INTEGER#, now(),
		now())
	</insert>
	<insert id="insertSelective" parameterClass="Reservation">
		<!--
			WARNING - This element is automatically generated by Apache iBATIS
			ibator, do not modify. This element was generated on Tue Sep 29
			19:05:09 CST 2009.
		-->
		insert into RESERVATION
		<dynamic prepend="(">
			<isNotNull prepend="," property="id">
				ID
      </isNotNull>
			<isNotNull prepend="," property="ownerId">
				OWNER_ID
      </isNotNull>
			<isNotNull prepend="," property="subscriber">
				SUBSCRIBER
      </isNotNull>
			<isNotNull prepend="," property="lendTime">
				LEND_TIME
      </isNotNull>
			<isNotNull prepend="," property="returnTime">
				RETURN_TIME
      </isNotNull>
			<isNotNull prepend="," property="state">
				STATE
      </isNotNull>
			<isNotNull prepend="," property="bookItemId">
				BOOK_ITEM_ID
      </isNotNull>
			<isNotNull prepend="," property="gmtCreate">
				GMT_CREATE
      </isNotNull>
			<isNotNull prepend="," property="gmtModified">
				GMT_MODIFIED
      </isNotNull>
			)
		</dynamic>
		values
		<dynamic prepend="(">
			<isNotNull prepend="," property="id">
				#id:INTEGER#
      </isNotNull>
			<isNotNull prepend="," property="ownerId">
				#ownerId:INTEGER#
			</isNotNull>
			<isNotNull prepend="," property="subscriber">
				#subscriber:VARCHAR#
			</isNotNull>
			<isNotNull prepend="," property="lendTime">
				#lendTime:DATETIME#
			</isNotNull>
			<isNotNull prepend="," property="returnTime">
				#returnTime:DATETIME#
			</isNotNull>
			<isNotNull prepend="," property="state">
				#state:VARCHAR#
      </isNotNull>
			<isNotNull prepend="," property="bookItemId">
				#bookItemId:INTEGER#
			</isNotNull>
			<isNotNull prepend="," property="gmtCreate">
				#gmtCreate:TIMESTAMP#
			</isNotNull>
			<isNotNull prepend="," property="gmtModified">
				#gmtModified:TIMESTAMP#
			</isNotNull>
			)
		</dynamic>
	</insert>



	<update id="updateByPrimaryKey" parameterClass="Reservation">
		<!--
			WARNING - This element is automatically generated by Apache iBATIS
			ibator, do not modify. This element was generated on Tue Sep 29
			19:05:09 CST 2009.
		-->
		update RESERVATION
		set OWNER_ID = #ownerId:INTEGER#,
		SUBSCRIBER =
		#subscriber:VARCHAR#,
		LEND_TIME = #lendTime:DATETIME#,
		RETURN_TIME = #returnTime:DATETIME#,
		STATE = #state:VARCHAR#,
		BOOK_ITEM_ID =
		#bookItemId:INTEGER#,
		GMT_MODIFIED =now()
		where ID = #id:INTEGER#
	</update>
	
	<update id="updateStateByBookItemId" parameterClass="Reservation">
		update RESERVATION
		set STATE = #state:VARCHAR#
		where BOOK_ITEM_ID = #bookItemId:INTEGER#
	</update>
	
	<update id="updateStateById" parameterClass="Reservation">
		update RESERVATION
		set STATE = #state:VARCHAR#
		where ID = #id:INTEGER#
	</update>
	
</sqlMap>